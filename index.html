<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>elasticluster</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="elasticluster frontsite to demonstrate it's purpose and usage">
    <meta name="author" content="S3IT: Services and Support for Science IT - University of Zurich">

    <!-- styles -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/elasticluster.css" rel="stylesheet">
    <link href="js/google-code-prettify/prettify.css" rel="stylesheet">

    <!-- js -->
    <script type="text/javascript" src="js/jquery-1.10.1.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/google-code-prettify/prettify.js"></script>

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <![endif]-->

</head>

<body>
<div class="container wrapper">
<!-- hero unit -->
<div class="hero-unit">
    <h1>Elasticluster</h1>

    <p>aims to provide a user-friendly command line tool to create, manage and setup computing clusters hosted on
        cloud infrastructures like <a href="http://aws.amazon.com/ec2/" target="_blank">Amazon's Elastic Compute
            Cloud EC2</a>,
        <a href="https://cloud.google.com/products/compute-engine"
        target="_blank">Google Compute Engine</a> or a private <a href="http://www.openstack.org/" target="_blank">OpenStack</a> cloud).
        Its main goal is to get your compute cluster up and running with just a few commands.</p>

    <div class="pull-right">
        <a href="http://elasticluster.readthedocs.org/en/latest/" class="btn btn-small">Read the Documentation</a>
        <a href="http://elasticluster.readthedocs.org/en/latest/install.html" class="btn btn-small">Install
            elasticluster</a>
    </div>
</div>

<div class="row-fluid three-headings">
    <!-- functionality overview -->
    <div class="span6">
        <h3>How it works</h3>

        <p>The architecture of elasticluster is quite simple: a configuration file defines a set of cluster
            configurations and information on how to access a specific cloud webservice.</p>

        <p>Using the command line (or, very soon, a simple API), you can start a cluster. Elasticluster will connect
            to the desired cloud, start the virtual machines and wait until they are accessible via ssh.</p>

        <p>After all the virtual machines are up and running, elasticluster will use ansible to configure them.</p>

        <h3>Features</h3>

        <p>elasticluster offers the following features at the current state:
        <ul>
            <li>Simple configuration file to define cluster templates</li>
            <li>Can start and manage multiple independent clusters at the same time</li>
            <li>
                Automated setup
                <ul>
                    <li>use <a href="http://www.debian.org/" target="_blank">Debian GNU/Linux</a>, <a
                            href="http://www.ubuntu.com/" target="_blank">Ubuntu</a>, or <a
                            href="http://www.centos.org/" target="_blank">CentOS</a> as a base operating system
                    </li>
                    <li>choose <a href="https://computing.llnl.gov/linux/slurm/" target="_blank">SLURM</a>, <a
                            href="http://www.gridengine.info/" target="_blank">Grid Engine</a> or <a
                            href="http://www.adaptivecomputing.com/products/open-source/torque/" target="_blank">TORQUE+MAUI</a>
                        as a batch-queueing system
                    </li>
                    <li>setup your <a href="http://hadoop.apache.org/" target="_blank">hadoop</a> cluster to start
                        your favorite map/reduce job
                    </li>
                    <li>or create your
                    <a href="http://ipython.org/ipython-doc/dev/parallel/"
                    target="_blank">IPython cluster</a> to run your
                    python code in parallel over multiple virtual
                    machines.
                    </li>
                    <li>add useful tools like <a href="http://ganglia.info/" target="_blank">Ganglia</a> for
                        monitoring...
                    </li>
                    <li>configure a distributed storage like
                    <a href="http://www.gluster.org/"
                    target="_blank">GlusterFS</a> or
                    <a href="http://ceph.com/"
                    target="_blank">Ceph</a>, or a parallel filesystem
                    like <a href="http://orangefs.org/"
                    target="_blank">OrangeFS</a> (formerly known as PVFS2)
                    <li>...or anything that you can install with an <a href="http://www.ansibleworks.com/">Ansible</a>
                        playbook!
                    </li>
                </ul>
            </li>
        </ul>
        </p>
    </div>

    <!-- demo video -->
    <div class="span6">
        <h3>Demo Video</h3>
        <iframe width="100%" style="min-width:50px; min-height: 400px;"
                src="http://www.youtube.com/embed/cR3C7XCSMmA" frameborder="0" allowfullscreen></iframe>
    </div>
</div>

<!-- sample config -->
<div class="row-fluid demo">
    <div class="span12 tabbable">
        <h3>Sample Usage</h3>

        <p>The following sample shows how a cluster is configured with elasticluster and the basic commands to
            interact with elasticluster through the command line interface. For a full description of the
            configuration and command line interface see the <a
                    href="http://elasticluster.readthedocs.org/en/latest/" target="_blank">documentation</a>. It's also
            possible to specify the examples below in one configuration file.</p>
        <ul class="nav nav-tabs" id="configTab">
            <li class="active"><a href="#os-slurm" data-toggle="tab">SLURM on OpenStack</a></li>
            <li><a href="#amazon-hadoop" data-toggle="tab">Hadoop on Amazon</a></li>
            <li><a href="#gce-ipython" data-toggle="tab">IPython
            cluster on Google Compute Engine</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane active" id="os-slurm">
                <div class="row-fluid">
                    <div class="span6">
                            <pre class="prettyprint languague-ini">
[cloud/hobbes]
provider=openstack
auth_url=http://hobbes.gc3.uzh.ch:5000/v2.0
username=****REPLACE WITH YOUR USERNAME****
password=****REPLACE WITH YOUR PASSWORD****
project_name=****REPLACE WITH YOUR PROJECT/TENANT NAME****

[login/ubuntu]
image_user=ubuntu
image_user_sudo=root
image_sudo=True
user_key_name=elasticluster
user_key_private=~/.ssh/id_rsa
user_key_public=~/.ssh/id_rsa.pub

[setup/ansible-slurm]
provider=ansible
frontend_groups=slurm_master
compute_groups=slurm_clients

[cluster/slurm]
cloud=hobbes
login=ubuntu
setup_provider=ansible-slurm
security_group=default
# Ubuntu image
image_id=16618a82-92fd-4615-86e6-d354f9f66af5
flavor=m1.small
frontend_nodes=1
compute_nodes=2
ssh_to=frontend
                            </pre>
                    </div>
                    <div class="span6 commands">
                        <h5>Start slurm cluster with the name `mycluster`</h5>
                        <code>
                            $ elasticluster start slurm -n mycluster
                        </code>

                        <h5>List nodes</h5>
                        <code>
                            $ elasticluster list-nodes mycluster
                        </code>

                        <h5>Grow cluster by 10 compute nodes</h5>
                        <code>
                            $ elasticluster resize mycluster -a 10:compute
                        </code>

                        <h5>SSH into frontend node</h5>
                        <code>
                            $ elasticluster ssh mycluster
                        </code>

                        <h5>SFTP connect</h5>
                        <code>
                            $ elasticluster sftp mycluster
                        </code>

                        <h5>Destroy cluster</h5>
                        <code>
                            $ elasticluster stop mycluster
                        </code>
                    </div>
                </div>
            </div>
            <div class="tab-pane" id="amazon-hadoop">
                <div class="row-fluid">
                    <div class="span6">
                            <pre class="prettyprint languague-ini">
[cloud/amazon-us-east-1]
provider=ec2_boto
ec2_url=https://ec2.us-east-1.amazonaws.com
ec2_access_key=****REPLACE WITH YOUR ACCESS ID****
ec2_secret_key=****REPLACE WITH YOUR SECRET KEY****
ec2_region=us-east-1

[login/ubuntu]
image_user=ubuntu

[setup/ansible]
provider=ansible
hadoop-name_groups=hadoop_namenode
hadoop-jobtracker_groups=hadoop_jobtracker
hadoop-task-data_groups=hadoop_tasktracker,hadoop_datanode

[cluster/hadoop]
cloud=amazon-us-east-1
login=ubuntu
setup_provider=ansible
security_group=all_tcp_ports
image_id=ami-00000048
flavor=m1.small
hadoop-name_nodes=1
hadoop-jobtracker_nodes=1
hadoop-task-data_nodes=4
ssh_to=hadoop-name


                            </pre>
                    </div>
                    <div class="span6 commands">
                        <h5>Start hadoop cluster with the name `mycluster`</h5>
                        <code>
                            $ elasticluster start hadoop -n mycluster
                        </code>
                        <h5>Start another hadoop cluster just for the fun of it</h5>
                        <code>
                            $ elasticluster start hadoop -n mysecondcluster
                        </code>
                        <h5>List all clusters</h5>
                        <code>
                            $ elasticluster list
                        </code>

                        <h5>List nodes</h5>
                        <code>
                            $ elasticluster list-nodes mycluster
                        </code>

                        <h5>Grow cluster by 10 data nodes</h5>
                        <code>
                            $ elasticluster resize mycluster -a 10:hadoop-task-data
                        </code>

                        <h5>SSH into frontend node</h5>
                        <code>
                            $ elasticluster ssh mycluster
                        </code>

                        <h5>SFTP connect</h5>
                        <code>
                            $ elasticluster sftp mycluster
                        </code>

                        <h5>Destroy cluster</h5>
                    </div>
                </div>
            </div>
            <div class="tab-pane" id="gce-ipython">
                <div class="row-fluid">
                    <div class="span6">
                            <pre class="prettyprint languague-ini">
[cloud/google]
provider=google
gce_project_id=****REPLACE WITH YOUR PROJECT ID****
gce_client_id=****REPLACE WITH YOUR CLIENT ID****
gce_client_secret=****REPLACE WITH YOUR SECRET KEY****

[login/google]
image_user=****REPLACE WITH YOUR GOOGLE ID****
image_user_sudo=root
image_sudo=True
user_key_name=elasticluster
user_key_private=~/.ssh/id_rsa
user_key_public=~/.ssh/id_rsa.pub

[setup/ansible_ipython]
provider=ansible
controller_groups=ipython_controller,ipython_engine
worker_groups=ipython_engine

[cluster/ipython]
cloud=google
login=google
setup_provider=ansible_ipython
security_group=all_tcp_ports
image_id=debian-7-wheezy-v20141021
flavor=n1-standard-1
controller_nodes=1
worker_nodes=10
ssh_to=controller
image_userdata=


                            </pre>
                    </div>
                    <div class="span6 commands">
                        <h5>Start ipython cluster with the name `mycluster`</h5>
                        <code>
                            $ elasticluster start ipython -n mycluster
                        </code>

                        <h5>SSH into controller node</h5>
                        <code>
                            $ elasticluster ssh mycluster
                        </code>

                        <h5>Run some python code in parallel</h5>
                        <pre>
In [1]: import os

In [2]: from IPython.parallel import Client

In [3]: rc = Client()

In [4]: rc.ids
Out[4]: [0, 1, 2, 3, 4]

In [5]: dview = rc[:]

In [6]: dview.apply_sync(os.getpid)
Out[6]: [18988, 19583, 19003, 20128, 20444]

In [7]: dview.map_sync(lambda x: x**10, range(32))
Out[7]: 
[0,
 1,
 1024,
 59049,
 1048576,
 9765625,
 60466176,
 282475249,
 1073741824,
 3486784401,
 10000000000,
 25937424601,
 61917364224,
 137858491849,
 289254654976,
 576650390625,
 1099511627776,
 2015993900449,
 3570467226624,
 6131066257801,
 10240000000000,
 16679880978201,
 26559922791424,
 41426511213649,
 63403380965376,
 95367431640625,
 141167095653376,
 205891132094649,
 296196766695424,
 420707233300201,
 590490000000000,
 819628286980801]

                        </pre>

                        <h5>Grow cluster by 10 new nodes</h5>
                        <code>
                            $ elasticluster resize mycluster -a 10:worker
                        </code>

                        <h5>Destroy cluster</h5>
                        <code>
                            $ elasticluster stop mycluster
                        </code>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </div>
</div>

<!-- license -->
<div class="row-fluid license">
    <div class="span10">
        <p>This project is an effort of the <a href="http://www.s3it.uzh.ch/" target="_blank">S<sup>3</sup>IT: Services and support for Science IT
            </a> at the <a href="http://www.uzh.ch/index.html" target="_blank">University of Zurich</a>, licensed
            under the <a href="http://www.gnu.org/licenses/gpl.html" target="_blank">GNU General Public License version
                3</a>.</p>
    </div>
    <div class="span2">
        <img src="img/uzh.jpg" alt="University of Zurich"/>
    </div>
</div>

</div>

<!-- fork me -->
<a href="https://github.com/gc3-uzh-ch/elasticluster" target="_blank">
    <img style="position: absolute; top: 0; right: 0; border: 0;" src="img/forkme.png" alt="Fork me on GitHub"></a>

<!-- JS -->
<script>
    // Activate Google Prettify in this page
    addEventListener('load', prettyPrint, false);

    $(document).ready(function () {

        // Add prettyprint class to pre elements
        $('pre').addClass('prettyprint');

    }); // end document.ready
</script>

</body>
</html>
